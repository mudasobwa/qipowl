######################################################
# Markup definition
######################################################

######################################################
# control modifiers
######################################################
:symbols :
  # "\u{00A0}"
  :nbsp : ' '
  :unknown : '‽'
  :error : '☠'
  :video : '✇'
  :empty : '␍'

######################################################
# preliminary parsing to avoid collisions
######################################################
:preliminary :
  :extensions :
    - :typograph
  :symbols :
    - '(' : '〈'
    - ')' : '〉'
    - '''' : '╍'

######################################################
# dropping a curtseys to human habits
######################################################
:badlyformed :
  - 
    :name: :anchor
    :re : 
      - '—\s+(.+),\s*(\S+)\s*$'
      - '(http://www.youtube.com/watch\?v=\S+)'
      - '(http://youtu.be/\S+)'
      - '(\S+)¹(\S+?)(?=\s|\)|\.\s|\,\s)'
    :tags : '⚓'
  -
    :name : :abbr
    :re :
      - '(?m-ix:(\S+)†(.+?)(?=†|\Z))'
    :tags : '†'
    
:empty :
  :re : '♻'
  :tags :
    :br : '⏎'
    :hr : '——'
  
:magnetic :
  :re : '♻\p{Zs}*(\S+)'
  :tags :
    :phone : '☎'
    :email : '✉'
    
:bracketing :
  :re : '♻(.*?)♻'
  :tags :
    :strong : '≡'
    :emphasis : '≈'
    :small : '↓'
    :code : 'λ'
    
:linewide :
  :shortcut : '☆'
  :re : '(?m-ix:♻(.*?)(?=(♲)(?!\()|\R{2}|\Z))'
  :tags :
    :li : 
      - '•'
      - :nested : '◦'
    :dt :
      - '▶'
      - :inline : '▷'
    :h_1..6 :
      - '§'
      - :in_black_circle : '\u{2780}'
      - :in_white_circle : '\u{278A}'
      - :with_dot : '\u{2488}'
    :muted : '☆'
    :primary : '★'
    :success : '☛'
    :info : '☞'
    :warning : '☣'
    :danger : '☢'
    :blockquote : '≻'
    :address : '℁'
    :comment : '✎'
  
:block :
  -
    :shortcut : '★'
    :re : '(?m-ix:♻(.*?)♻|\Z)'
    :tags :
      :comment : '✍'
      :pre : 'Λ'
      :cut : '✁'

  -
    :re : '(?m-ix:(?<=\R{2})\p{Zs}*(?!♲))'
    :tags :
      :paragraph : 
        - '❡'
        - :lead : '¶'
        
  -
    :re : '(?m-ix:(♻)(.*?)(?=☆|★)'
    :tags :
      :ul : '∈'
      :ol : '⊂'
      :dl : '⊕'
        
